{"name":"Python-ssh","tagline":"parallel ssh execute over a cluster","body":"python-ssh\r\n==========\r\n\r\nThe Python based paralleling ssh tool, useful for batch executing ssh remote command against a bunch of servers.\r\n\r\nIt has some features you may be interested:\r\n* use compressed hostname ranges, it tool will expand for you\r\n* get server list from file\r\n* support regex match of output, useful to indentify which servers is you wanted. (for example: list servers installed openssl-1.0.1a, Heartbleed impacted !) \r\n* able to use jumpbox, with ```--extra-arg='-At jumpbox-hostname ssh'```\r\n* max number of parallel threads control\r\n\r\n\r\nTODO\r\n==========\r\ncreate a user friendly install package\r\n\r\n\r\nCommandline Help\r\n==========\r\n\r\n```\r\nUsage: python-ssh [ -p <max parallel thread number> ] (-f filename | -r range)     [ -l login_name ] command\r\n\r\nOptions:\r\n  --version             show program's version number and exit\r\n  -h, --help            show this help message and exit\r\n  -p PARALLEL, --parallel=PARALLEL\r\n                        max number of parallel threads ,default is 10\r\n  -r RANGE, --range=RANGE\r\n                        Range of nodes to operate on\r\n  -f FILENAME, --file=FILENAME\r\n                        the host file which stores the host list\r\n  -l LOGIN_NAME, --login_name=LOGIN_NAME\r\n                        Specifies the user to log in as on the remote machine.\r\n                        This also may be specified on a per-host basis in the\r\n                        configuration file\r\n  -X EXTRA_ARGUMENT, --extra-arg=EXTRA_ARGUMENT\r\n                        Extra command-line argument. for example: -o\r\n                        ConnectTimeOut=10\r\n  -e PATTERN, --regexp=PATTERN\r\n                        Use PATTERN as the pattern;    useful to protect\r\n                        patterns beginning with -.\r\n  -v, --invert-match    Invert the sense of matching, to select non-matching\r\n                        lines.\r\n\r\nReport any bugs to lichun.william@gmail.com\r\n```\r\n\r\nHostname Ranges\r\n============\r\nThe utility include er.py for expanding range expressiong, for example\r\n```\r\nwww[01-99].google.com\r\ndb0[1-3].demonware.net\r\nwww[1-2].demonware.net,mysql01-9.mysql.com\r\n```\r\n\r\n```\r\ner www[1-2].demonware.net,mysql0[1-9].mysql.com\r\nwww2.demonware.net\r\nmysql08.mysql.com\r\nmysql02.mysql.com\r\nmysql03.mysql.com\r\nmysql04.mysql.com\r\nmysql05.mysql.com\r\nmysql06.mysql.com\r\nmysql07.mysql.com\r\nmysql09.mysql.com\r\nwww1.demonware.net\r\nmysql01.mysql.com\r\n```\r\n\r\nhelp\r\n```\r\nUsage: er expr1 [expr2 ...]\r\n\r\nExpand host ranges with given expressions\r\n\r\npositional arguments:\r\n  expr                  expressions to be expanded\r\n\r\noptional arguments:\r\n  -h, --help            show this help message and exit\r\n  -v, --version         show program's version number and exit\r\n  -s, --sort            sort the out put?\r\n  -f, --shuffle         shuffle list?\r\n  -d DELIMITER, --delimiter DELIMITER\r\n                        delimiter of the output, default is space\r\n  -n, --newline         same as --delimiter='\\n'\r\n\r\nReport any bugs to lichun.william@gmail.com\r\n```\r\n\r\nExamples\r\n============\r\nExecuting ```uname``` on 123 servers with default parrelling thread of 10.\r\n\r\n```pssh -lwilliam -r www[001-123].github.com -- uname```\r\n\r\nCheck ```ntpd``` status, dry run, with maximun 2 executing simultaneously.\r\n\r\n```pssh -lroot -r db0[1-2].github.com,web2-9.github.com  --dry-run -P 2 -- /etc/init.d/ntpd status```\r\n\r\n```\r\n 1 of 10 : ===============  db01.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no db01.github.com /etc/init.d/ntpd status\r\n 2 of 10 : ===============  db02.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no db02.github.com /etc/init.d/ntpd status\r\n 3 of 10 : ===============  web3.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no web3.github.com /etc/init.d/ntpd status\r\n 4 of 10 : ===============  web4.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no web4.github.com /etc/init.d/ntpd status\r\n 5 of 10 : ===============  web8.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no web8.github.com /etc/init.d/ntpd status\r\n 6 of 10 : ===============  web5.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no web5.github.com /etc/init.d/ntpd status\r\n 7 of 10 : ===============  web2.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no web2.github.com /etc/init.d/ntpd status\r\n 8 of 10 : ===============  web7.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no web7.github.com /etc/init.d/ntpd status\r\n 9 of 10 : ===============  web9.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no web9.github.com /etc/init.d/ntpd status\r\n 10 of 10 : ===============  web6.github.com  ===============\r\nssh -l root -o StrictHostKeyChecking=no web6.github.com /etc/init.d/ntpd status\r\n```\r\n","google":"UA-50552473-1","note":"Don't delete this file! It's used internally to help with page regeneration."}